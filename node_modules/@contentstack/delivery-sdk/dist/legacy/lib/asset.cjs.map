{"version":3,"sources":["../../../src/lib/asset.ts"],"sourcesContent":["import { AxiosInstance, getData } from '@contentstack/core';\n\nexport class Asset {\n  private _client: AxiosInstance;\n  private _urlPath: string;\n  _queryParams: { [key: string]: string | number } = {};\n\n  constructor(client: AxiosInstance, assetUid: string) {\n    this._client = client;\n    this._urlPath = `/assets/${assetUid}`;\n  }\n\n  /**\n   * @method includeFallback\n   * @memberof Asset\n   * @description When an entry is not published in a specific language, content can be fetched from its fallback language\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').includeFallback().fetch();\n   */\n  includeFallback(): Asset {\n    this._queryParams.include_fallback = 'true';\n\n    return this;\n  }\n\n  /**\n   * @method includeMetadata\n   * @memberof Asset\n   * @description Include the metadata for getting metadata content for the asset.\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').includeMetadata().fetch();\n   */\n  includeMetadata(): Asset {\n    this._queryParams.include_metadata = 'true';\n\n    return this;\n  }\n\n  /**\n   * @method includeDimension\n   * @memberof Asset\n   * @description Includes the dimensions (height and width) of the image in result\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').includeDimension().fetch();\n   */\n  includeDimension(): Asset {\n    this._queryParams.include_dimension = 'true';\n\n    return this;\n  }\n\n  /**\n   * @method includeBranch\n   * @memberof Asset\n   * @description Includes the branch in result\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').includeBranch().fetch();\n   */\n  includeBranch(): Asset {\n    this._queryParams.include_branch = 'true';\n\n    return this;\n  }\n\n  /**\n   * @method relativeUrls\n   * @memberof Asset\n   * @description Includes the relative URLs of the asset in result\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').relativeUrls().fetch();\n   */\n  relativeUrls(): Asset {\n    this._queryParams.relative_urls = 'true';\n\n    return this;\n  }\n\n  /**\n   * @method version\n   * @memberof Asset\n   * @description Retrieve a specific version of an asset in result\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').version(1).fetch();\n   */\n  version(version: number): Asset {\n    this._queryParams.version = String(version);\n\n    return this;\n  }\n\n  /**\n   * @method locale\n   * @memberof Asset\n   * @description The asset published in the locale will be fetched\n   * @returns {Asset}\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').locale('en-us').fetch();\n   */\n  locale(locale: string): Asset {\n    this._queryParams.locale = locale;\n\n    return this;\n  }\n\n  /**\n   * @method fetch\n   * @memberof Asset\n   * @description Fetches the asset data on the basis of the asset uid\n   * @returns {Promise<T>} Promise that resolves to the asset data\n   * @example\n   * import contentstack from '@contentstack/delivery-sdk'\n   *\n   * const stack = contentstack.stack({ apiKey: \"apiKey\", deliveryToken: \"deliveryToken\", environment: \"environment\" });\n   * const result = await stack.asset('asset_uid').fetch();\n   */\n  async fetch<T>(): Promise<T> {\n    const response = await getData(this._client, this._urlPath, { params: this._queryParams});\n\n    if (response.asset) return response.asset as T;\n\n    return response;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuC;AAEhC,IAAM,QAAN,MAAY;AAAA,EAKjB,YAAY,QAAuB,UAAkB;AAFrD,wBAAmD,CAAC;AAGlD,SAAK,UAAU;AACf,SAAK,WAAW,WAAW,QAAQ;AAAA,EACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,kBAAyB;AACvB,SAAK,aAAa,mBAAmB;AAErC,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,kBAAyB;AACvB,SAAK,aAAa,mBAAmB;AAErC,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,mBAA0B;AACxB,SAAK,aAAa,oBAAoB;AAEtC,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,gBAAuB;AACrB,SAAK,aAAa,iBAAiB;AAEnC,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,eAAsB;AACpB,SAAK,aAAa,gBAAgB;AAElC,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,QAAQ,SAAwB;AAC9B,SAAK,aAAa,UAAU,OAAO,OAAO;AAE1C,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,OAAO,QAAuB;AAC5B,SAAK,aAAa,SAAS;AAE3B,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,MAAM,QAAuB;AAC3B,UAAM,WAAW,UAAM,qBAAQ,KAAK,SAAS,KAAK,UAAU,EAAE,QAAQ,KAAK,aAAY,CAAC;AAExF,QAAI,SAAS,MAAO,QAAO,SAAS;AAEpC,WAAO;AAAA,EACT;AACF;","names":[]}